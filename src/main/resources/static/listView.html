<!DOCTYPE html>
<html>
<head>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="js/custom.js"></script>

    <title>My Lists</title>

    <!--Bootstrap-->
     <!--Latest compiled and minified CSS -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

    <!-- AngularJS -->
    <script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>

    <script src="js/jquery.mmenu.min.all.js"></script>
    <link rel="stylesheet" href="css/jquery.mmenu.all.css">


    <!--Custom Assets-->
    <!--<link rel="stylesheet" href="css/custom.css">-->
    <script src="js/custom.js"></script>
    <script src="js/controllers.js"></script>
</head>
<body ng-app="listView" ng-controller="itemsController">
<div id="menu">
        <a href="#my-menu">Open the menu</a>


    <nav id="my-menu">
        <!--List of List Names-->
        <ul>
            <li
                    ng-repeat="list in lists"
                    ng-click="setCurrentList(list.oid)">
                <a >{{list.name}}</a>
            </li>

        </ul>
    </nav>
</div><!--Overall Wrapper for menu-->

<div id="page">

    <div>

             <br>           <br>

            <!--List Info-->
            Name of list: {{itemList.listName}}
            <br>
            Last modified: {{itemList.lastModified}}
            <br><br>
            <list>
                <tr>
                	<td><a>Item Name</a></td>
                	<td><input type = "text" id = "itemName"></td>
                	<td><a>Item Quantity</a></td>
                	<td><input type = "text" id = "itemQuantity"></td>
                	<!-- add in ng-keyup="event=$event" with keycode = 13 for enter key -->
                	<td><button ng-click="addItemToList(listID,UserOID)">Add item</button>
                </tr>
            </list>
            <br><br>
            <!--Items in List-->
            <div ng-repeat="item in itemList.items">


                <div class="list-group" style="width:25%">

                    <!--<a class="list-group-item" >-->
                        <input type="checkbox" ng-checked="item.isChecked" id="{{$index}}" ng-model="checkedState" ng-change="updateCheckedState( item.name,checkedState )" >
                        
                        <span>{{item.name}}
                            <!--Control if quantity should show. Do not display if quantity is <= 1 -->
                            <span ng-if="item.quantity > 1">x {{item.quantity}}</span>
                        </span>
                        <button ng-click = "edit = ! edit">Edit Item</button>
                        <button ng-click="removeItemAndUpdate(listID, item.name)">Remove Item</button>
                        <br>
                        <div ng-show = "edit">
                        	<table border = "1">
	                    	    <tr>
		                        	<td><input type = "text" id = "{{item.name}}newItemName" value = "{{item.name}}"></td>
		                        	<td><input type = "text" id = "{{item.name}}quantity" value = "{{item.quantity}}"></td>
		                            <!--<td><input type = "text" id = "{{item.name}}itemPrice" value = "{{item.price}}"></td>-->
		                        	<td><button ng-click = "editItemAndUpdate(listID, item.name, UserOID, item.isChecked, item.price)">Confirm</button></td
	                        	</tr>
                        	</table>
                        </div>
                    <!--</a>-->

                </div>

            </div>
            <br>
            <button ng-click = "removeListAndUpdate(listID,UserOID)">Delete List</button>
        </div>
    </div>
</body>

<script type="text/javascript">

    $(document).ready(function() {
        $("#my-menu").mmenu();
    });
</script>
</html>